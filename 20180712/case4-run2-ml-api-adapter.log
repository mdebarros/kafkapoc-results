/usr/local/opt/node@8/bin/node --inspect-brk=55021 /Users/mdebarros/Documents/ModusDocs/Projects/MojaLoop/git/fork/ml-api-adapter/src/api/index.js
Debugger listening on ws://127.0.0.1:55021/f1a5009f-812a-4ea7-9add-94bad24fc639
For help see https://nodejs.org/en/docs/inspector
Debugger attached.
http://Miguels-MBP:4000
  GET    /                              Metadata
  GET    /documentation
  GET    /health                        Status of adapter
  GET    /swagger.json
  GET    /swaggerui/{path*}
  GET    /swaggerui/extend.js
  POST   /transfers                     Transfer API.
  PUT    /transfers/{id}                Fulfil a transfer

2018-07-13T07:39:54.988Z - info: Notification::startConsumer
2018-07-13T07:39:54.990Z - info: Notification::startConsumer::topicName: topic-notification-event
2018-07-13T07:39:54.990Z - info: Notification::startConsumer::Consumer: new
2018-07-13T07:39:54.987Z - debug: Server running at:  http://Miguels-MBP:4000
2018-07-13T07:39:55.118Z - info: node-rdkafka v0.11.4 ready - {"name":"topic-notification-event#consumer-1"}
2018-07-13T07:39:55.119Z - info: start[1531467594990] time[129] tag[metricConsumerConnectProcessingTime]
2018-07-13T07:39:55.122Z - info: Kafka Consumer connected
2018-07-13T07:39:55.124Z - info: start[1531467595124] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:39:55.125Z - info: start[1531467595123] time[2] tag[metricConsumeProcessingTime]
2018-07-13T07:39:55.125Z - info: Kafka Consumer handler created
2018-07-13T07:39:55.125Z - info: start[1531467594988] time[137] tag[metricMlAPIStartConsume]
2018-07-13T07:39:56.229Z - info: start[1531467596229] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:39:57.336Z - info: start[1531467597336] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:39:58.440Z - info: start[1531467598440] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:00.238Z - info: start[1531467600237] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:01.343Z - info: start[1531467601343] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:02.446Z - info: start[1531467602446] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:03.554Z - info: start[1531467603554] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:04.661Z - info: start[1531467604661] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:05.767Z - info: start[1531467605767] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:06.874Z - info: start[1531467606874] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:07.982Z - info: start[1531467607982] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:09.090Z - info: start[1531467609090] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:10.198Z - info: start[1531467610198] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:11.307Z - info: start[1531467611307] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:12.416Z - info: start[1531467612415] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:13.523Z - info: start[1531467613523] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:14.625Z - info: start[1531467614625] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:15.732Z - info: start[1531467615732] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:16.840Z - info: start[1531467616840] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:17.949Z - info: start[1531467617949] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:19.058Z - info: start[1531467619058] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:20.067Z - 2018-07-13T07:40:20.067Z - infodebug: guid=ad9e2b18-bac8-3b9e-a9e7-345eb9730e29:uuid - startTransferPrepareAPI:process
: create::start({"transferId":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","payeeFsp":"dfsp2","payerFsp":"dfsp1","amount":{"amount":"100","currency":"USD"},"ilpPacket":"AQAAAAAAAABkEGcuZXdwMjEuaWQuODAwMjCCAhd7InRyYW5zYWN0aW9uSWQiOiJmODU0NzdkYi0xMzVkLTRlMDgtYThiNy0xMmIyMmQ4MmMwZDYiLCJxdW90ZUlkIjoiOWU2NGYzMjEtYzMyNC00ZDI0LTg5MmYtYzQ3ZWY0ZThkZTkxIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNTYxMjM0NTYiLCJmc3BJZCI6IjIxIn19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI1NjIwMTAwMDAxIiwiZnNwSWQiOiIyMCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnsiZmlyc3ROYW1lIjoiTWF0cyIsImxhc3ROYW1lIjoiSGFnbWFuIn0sImRhdGVPZkJpcnRoIjoiMTk4My0xMC0yNSJ9fSwiYW1vdW50Ijp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5IjoiVVNEIn0sInRyYW5zYWN0aW9uVHlwZSI6eyJzY2VuYXJpbyI6IlRSQU5TRkVSIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIifSwibm90ZSI6ImhlaiJ9","condition":"uU0nuZNNPgilLlLX2n2r-sSE7-N6U4DukIj3rOLvzek","expiration":"2018-11-08T21:31:00.534+01:00"})
2018-07-13T07:40:20.067Z - debug: prepare::start([object Object], [object Object])
2018-07-13T07:40:20.069Z - debug: Producer::start::topic=topic-dfsp1-transfer-prepare
2018-07-13T07:40:20.069Z - debug: Producer::connect::start
2018-07-13T07:40:20.175Z - info: start[1531467620175] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:20.283Z - debug: Producer::connect::end
2018-07-13T07:40:20.284Z - debug: Producer.sendMessage:: messageProtocol:'{"id":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","to":"dfsp2","from":"dfsp1","type":"application/json","content":{"headers":{"content-type":"application/json","date":"2017-11-02T00:00:00.000Z","fspiop-destination":"dfsp2","fspiop-source":"dfsp1","content-length":1038},"payload":{"transferId":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","payeeFsp":"dfsp2","payerFsp":"dfsp1","amount":{"amount":"100","currency":"USD"},"ilpPacket":"AQAAAAAAAABkEGcuZXdwMjEuaWQuODAwMjCCAhd7InRyYW5zYWN0aW9uSWQiOiJmODU0NzdkYi0xMzVkLTRlMDgtYThiNy0xMmIyMmQ4MmMwZDYiLCJxdW90ZUlkIjoiOWU2NGYzMjEtYzMyNC00ZDI0LTg5MmYtYzQ3ZWY0ZThkZTkxIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNTYxMjM0NTYiLCJmc3BJZCI6IjIxIn19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI1NjIwMTAwMDAxIiwiZnNwSWQiOiIyMCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnsiZmlyc3ROYW1lIjoiTWF0cyIsImxhc3ROYW1lIjoiSGFnbWFuIn0sImRhdGVPZkJpcnRoIjoiMTk4My0xMC0yNSJ9fSwiYW1vdW50Ijp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5IjoiVVNEIn0sInRyYW5zYWN0aW9uVHlwZSI6eyJzY2VuYXJpbyI6IlRSQU5TRkVSIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIifSwibm90ZSI6ImhlaiJ9","condition":"uU0nuZNNPgilLlLX2n2r-sSE7-N6U4DukIj3rOLvzek","expiration":"2018-11-08T21:31:00.534+01:00"}},"metadata":{"event":{"id":"f7f2798e-afe4-43f7-9114-bc420d069db5","type":"prepare","action":"prepare","createdAt":"2018-07-13T07:40:20.068Z","state":{"status":"success","code":0}}}}'
2018-07-13T07:40:20.284Z - debug: Producer::send() - start {"topicName":"topic-dfsp1-transfer-prepare"}
2018-07-13T07:40:20.285Z - debug: Producer::end
2018-07-13T07:40:20.283Z - info: start[1531467620069] time[214] tag[metricProducerConnectProcessingTime]
2018-07-13T07:40:20.285Z - info: start[1531467620284] time[1] tag[metricProducerSendMessageProcessingTime]
2018-07-13T07:40:20.285Z - info: start[1531467620067] time[218] tag[metricMlAPIRoutePrepare]
2018-07-13T07:40:20.285Z - info: guid=ad9e2b18-bac8-3b9e-a9e7-345eb9730e29:uuid - endTransferPrepareAPI:process
2018-07-13T07:40:21.284Z - info: start[1531467621283] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:22.385Z - info: start[1531467622385] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:22.435Z - debug: Consumer::_consumerRecursive() - messages[1]: [{"value":{"from":"dfsp1","to":"dfsp2","id":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","content":{"headers":{"content-type":"application/json","date":"2017-11-02T00:00:00.000Z","fspiop-destination":"dfsp2","fspiop-source":"dfsp1","content-length":1038},"payload":{"transferId":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","payeeFsp":"dfsp2","payerFsp":"dfsp1","amount":{"amount":"100","currency":"USD"},"ilpPacket":"AQAAAAAAAABkEGcuZXdwMjEuaWQuODAwMjCCAhd7InRyYW5zYWN0aW9uSWQiOiJmODU0NzdkYi0xMzVkLTRlMDgtYThiNy0xMmIyMmQ4MmMwZDYiLCJxdW90ZUlkIjoiOWU2NGYzMjEtYzMyNC00ZDI0LTg5MmYtYzQ3ZWY0ZThkZTkxIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNTYxMjM0NTYiLCJmc3BJZCI6IjIxIn19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI1NjIwMTAwMDAxIiwiZnNwSWQiOiIyMCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnsiZmlyc3ROYW1lIjoiTWF0cyIsImxhc3ROYW1lIjoiSGFnbWFuIn0sImRhdGVPZkJpcnRoIjoiMTk4My0xMC0yNSJ9fSwiYW1vdW50Ijp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5IjoiVVNEIn0sInRyYW5zYWN0aW9uVHlwZSI6eyJzY2VuYXJpbyI6IlRSQU5TRkVSIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIifSwibm90ZSI6ImhlaiJ9","condition":"uU0nuZNNPgilLlLX2n2r-sSE7-N6U4DukIj3rOLvzek","expiration":"2018-11-08T21:31:00.534+01:00"}},"type":"application/json","metadata":{"event":{"id":"ea090869-9af3-4897-95ca-ebf11afd104d","type":"notification","action":"prepare","createdAt":"2018-07-13T07:40:20.068Z","state":{"status":"success","code":0,"description":"action successful"},"responseTo":"a19811fa-76b8-4c02-a8c5-d672a55c9fef"},"protocol.createdAt":1531467622428}},"size":1587,"key":{"type":"Buffer","data":[55,54,52,100,98,102,100,101,45,97,55,99,100,45,52,49,102,101,45,57,97,55,99,45,50,56,51,53,56,50,52,54,97,48,49,101]},"topic":"topic-notification-event","offset":0,"partition":0,"timestamp":1531467622428}]}
2018-07-13T07:40:22.437Z - debug: Consumer::consume() - Sync Process - {"error":null,"messages":[{"value":{"from":"dfsp1","to":"dfsp2","id":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","content":{"headers":{"content-type":"application/json","date":"2017-11-02T00:00:00.000Z","fspiop-destination":"dfsp2","fspiop-source":"dfsp1","content-length":1038},"payload":{"transferId":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","payeeFsp":"dfsp2","payerFsp":"dfsp1","amount":{"amount":"100","currency":"USD"},"ilpPacket":"AQAAAAAAAABkEGcuZXdwMjEuaWQuODAwMjCCAhd7InRyYW5zYWN0aW9uSWQiOiJmODU0NzdkYi0xMzVkLTRlMDgtYThiNy0xMmIyMmQ4MmMwZDYiLCJxdW90ZUlkIjoiOWU2NGYzMjEtYzMyNC00ZDI0LTg5MmYtYzQ3ZWY0ZThkZTkxIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNTYxMjM0NTYiLCJmc3BJZCI6IjIxIn19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI1NjIwMTAwMDAxIiwiZnNwSWQiOiIyMCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnsiZmlyc3ROYW1lIjoiTWF0cyIsImxhc3ROYW1lIjoiSGFnbWFuIn0sImRhdGVPZkJpcnRoIjoiMTk4My0xMC0yNSJ9fSwiYW1vdW50Ijp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5IjoiVVNEIn0sInRyYW5zYWN0aW9uVHlwZSI6eyJzY2VuYXJpbyI6IlRSQU5TRkVSIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIifSwibm90ZSI6ImhlaiJ9","condition":"uU0nuZNNPgilLlLX2n2r-sSE7-N6U4DukIj3rOLvzek","expiration":"2018-11-08T21:31:00.534+01:00"}},"type":"application/json","metadata":{"event":{"id":"ea090869-9af3-4897-95ca-ebf11afd104d","type":"notification","action":"prepare","createdAt":"2018-07-13T07:40:20.068Z","state":{"status":"success","code":0,"description":"action successful"},"responseTo":"a19811fa-76b8-4c02-a8c5-d672a55c9fef"},"protocol.createdAt":1531467622428}},"size":1587,"key":{"type":"Buffer","data":[55,54,52,100,98,102,100,101,45,97,55,99,100,45,52,49,102,101,45,57,97,55,99,45,50,56,51,53,56,50,52,54,97,48,49,101]},"topic":"topic-notification-event","offset":0,"partition":0,"timestamp":1531467622428}]}
2018-07-13T07:40:22.436Z - info: start[1531467622385] time[1] tag[metricConsumeRecursiveConsumeProcessingTime]
2018-07-13T07:40:22.437Z - info: Notification::consumeMessage
2018-07-13T07:40:22.438Z - info: Notification:consumeMessage message: - [{"value":{"from":"dfsp1","to":"dfsp2","id":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","content":{"headers":{"content-type":"application/json","date":"2017-11-02T00:00:00.000Z","fspiop-destination":"dfsp2","fspiop-source":"dfsp1","content-length":1038},"payload":{"transferId":"ad9e2b18-bac8-3b9e-a9e7-345eb9730e29","payeeFsp":"dfsp2","payerFsp":"dfsp1","amount":{"amount":"100","currency":"USD"},"ilpPacket":"AQAAAAAAAABkEGcuZXdwMjEuaWQuODAwMjCCAhd7InRyYW5zYWN0aW9uSWQiOiJmODU0NzdkYi0xMzVkLTRlMDgtYThiNy0xMmIyMmQ4MmMwZDYiLCJxdW90ZUlkIjoiOWU2NGYzMjEtYzMyNC00ZDI0LTg5MmYtYzQ3ZWY0ZThkZTkxIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNTYxMjM0NTYiLCJmc3BJZCI6IjIxIn19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI1NjIwMTAwMDAxIiwiZnNwSWQiOiIyMCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnsiZmlyc3ROYW1lIjoiTWF0cyIsImxhc3ROYW1lIjoiSGFnbWFuIn0sImRhdGVPZkJpcnRoIjoiMTk4My0xMC0yNSJ9fSwiYW1vdW50Ijp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5IjoiVVNEIn0sInRyYW5zYWN0aW9uVHlwZSI6eyJzY2VuYXJpbyI6IlRSQU5TRkVSIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIifSwibm90ZSI6ImhlaiJ9","condition":"uU0nuZNNPgilLlLX2n2r-sSE7-N6U4DukIj3rOLvzek","expiration":"2018-11-08T21:31:00.534+01:00"}},"type":"application/json","metadata":{"event":{"id":"ea090869-9af3-4897-95ca-ebf11afd104d","type":"notification","action":"prepare","createdAt":"2018-07-13T07:40:20.068Z","state":{"status":"success","code":0,"description":"action successful"},"responseTo":"a19811fa-76b8-4c02-a8c5-d672a55c9fef"},"protocol.createdAt":1531467622428}},"size":1587,"key":{"type":"Buffer","data":[55,54,52,100,98,102,100,101,45,97,55,99,100,45,52,49,102,101,45,57,97,55,99,45,50,56,51,53,56,50,52,54,97,48,49,101]},"topic":"topic-notification-event","offset":0,"partition":0,"timestamp":1531467622428}]
2018-07-13T07:40:22.438Z - info: guid=ad9e2b18-bac8-3b9e-a9e7-345eb9730e29:uuid - startNotificationHandler:process
2018-07-13T07:40:22.438Z - info: Notification::consumeMessage::processMessage
2018-07-13T07:40:22.438Z - info: Notification::processMessage
2018-07-13T07:40:22.439Z - info: Notification::processMessage action: prepare
2018-07-13T07:40:22.439Z - info: Notification::processMessage status: success
2018-07-13T07:40:22.444Z - info: start[1531467622437] time[7] tag[metricConsumeSyncQueueProcessingTime]
2018-07-13T07:40:22.475Z - info: start[1531467622438] time[37] tag[metricMlAPIProcessMessage]
2018-07-13T07:40:22.475Z - info: guid=ad9e2b18-bac8-3b9e-a9e7-345eb9730e29:uuid - endNotificationHandler:process
2018-07-13T07:40:22.475Z - info: start[1531467622437] time[37] tag[metricMlAPIConsumeMessageForEachMsg]
2018-07-13T07:40:22.476Z - info: start[1531467622437] time[39] tag[metricMlAPIConsumeMessage]
2018-07-13T07:40:22.477Z - info: start[1531467622477] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:22.477Z - info: start[1531467622476] time[1] tag[metricConsumeSyncQueueResolveProcessingTime]
2018-07-13T07:40:23.586Z - info: start[1531467623586] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:24.693Z - info: start[1531467624693] time[0] tag[metricConsumeRecursiveProcessingTime]
2018-07-13T07:40:25.802Z - info: start[1531467625802] time[0] tag[metricConsumeRecursiveProcessingTime]
Debugger listening on ws://127.0.0.1:55021/f1a5009f-812a-4ea7-9add-94bad24fc639
For help see https://nodejs.org/en/docs/inspector
2018-07-13T07:40:26.912Z - info: start[1531467626912] time[0] tag[metricConsumeRecursiveProcessingTime]

Process finished with exit code 130 (interrupted by signal 2: SIGINT)
